{% extends 'base.html' %}

{% block header %}
    {% block title %}Edit Stock Component{% endblock %}
    <br>
    <a class="action" href="{{ back }}">Back</a>
{% endblock %}

{% block content %}
  <form method="post">

    <p>This will link a stock and component together. If the specified stock (ID) does not already exist
    a new stock in the stock table will be created. To change stock name use the stock view.</p>

    <label for="stock_id">Stock ID (must be unique)</label>
    <input name="stock_id" id="stock_id" value="{{ request.form['stock_id'] or post['stock_id']}}" required>

    <label for="component_id">Component ID (must be existing component)</label>
    <input name="component_id" id="component_id" value="{{ request.form['component_id'] or post['component_id']}}" required>

    <label for="amount">Amount</label>
    <input name="amount" id="amount" value="{{ request.form['amount'] or post['amount']}}" required>

    <label for="units">Units</label>
    <input name="units" id="units" value="{{ request.form['units'] or post['units']}}" required>

    <input class="submit" type="submit" value="Save">

  </form>

  <form action="{{ url_for('stock_component.delete', id=post['id']) }}" method="post">
  <input class="danger" type="submit" value="Delete" onclick="return confirm('WARNING: Are you sure you want to delete this entry? This will NOT delete the stock associated with this component');">
  </form>

{% endblock %}