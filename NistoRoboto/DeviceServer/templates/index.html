<!DOCTYPE html>
<html>
    <head>
        <title>{{name}}</title>
        <link rel="stylesheet" type="text/css" href='static/style.css' />
        <script src="static/jquery-3.4.1.min.js" ></script>
        <script src="static/scripts.js" ></script>
    </head>
    <body>
        <div id="header-bar">
            <img id="nist-logo" src="static/logo.svg" />
            <p class="status-strip">
            • {{name}} •
            <br/>
            Queued:&nbsp;<span id='queue_size'></span> • Completed:&nbsp;<span id='history_size'></span>
            <br/>
            Protocol:&nbsp;{{protocol}} • Queue&nbsp;State:&nbsp;<span id='queue_state'></span> 
            <br/>
            Experiment:&nbsp;{{experiment}} • Contact:&nbsp;{{contact}}  
            <br/>
            Last&nbsp;Updated:&nbsp;<span id='time'></span> 
            </p>
            <!--<form action="/halt" method="POST"><input id="estop" type="submit" value="HALT"></form>-->
            <img id="ncnr-logo" src="static/ncnr.png" />
        </div>
        <div id="content_container">
            <div id="meta_buttons">
                <button onclick="$.post('/clear_history')">Clear History</button>
                <button onclick="$.post('/clear_queue')">Clear Queue</button>
                •
                <button onclick="$.ajax({type:'POST',url:'/pause',data:JSON.stringify({state:true}),contentType:'application/json;charset=UTF-8'})">Pause</button>
                <button onclick="$.ajax({type:'POST',url:'/pause',data:JSON.stringify({state:false}),contentType:'application/json;charset=UTF-8'})">Unpause</button>
                •
                <button onclick="$.ajax({type:'POST',url:'/debug',data:JSON.stringify({state:true}),contentType:'application/json;charset=UTF-8'})">Enable Debug Mode</button>
                <button onclick="$.ajax({type:'POST',url:'/debug',data:JSON.stringify({state:false}),contentType:'application/json;charset=UTF-8'})">Disable Debug Mode</button>
                •
                <button onclick="$('div.meta').hide()">Meta Off</button>
                <button onclick="$('div.meta').show()">Meta On</button>
                •
                <button onclick="$.post('/halt')" style="background-color:red;">HALT</button>
            </div>
            <h3 class="centered"> Protocol Status </h3> <hr/>
            <div id="protocol_status"></div>

            <div id="command-queue">
                <h3 class="centered">Task History </h3> <hr/>
                <div id="history"></div>
                
                <h3 class="centered">Running Task</h3> <hr/>
                <div id="running"></div>

                <h3 class="centered">Task Queue</h3> <hr/>
                <div id="queued"></div>
            </div>
        </div id="content_container">
    </body>
</html>
